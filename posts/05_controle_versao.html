<!DOCTYPE html>
<html lang="pt-BR" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.61" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://20231-ifba-saj-ads-tawii.github.io/blog-material-aula/blog-material-aula/posts/05_controle_versao.html"><meta property="og:site_name" content="Blog Aulas 20231 TAWII"><meta property="og:title" content="Controle de Vers√£o"><meta property="og:description" content="Controle de Vers√£o"><meta property="og:type" content="article"><meta property="og:locale" content="pt-BR"><meta property="og:updated_time" content="2023-05-13T00:47:42.000Z"><meta property="article:author" content="Leandro Souza"><meta property="article:tag" content="controle_versao"><meta property="article:tag" content="git"><meta property="article:published_time" content="2023-05-12T23:40:00.000Z"><meta property="article:modified_time" content="2023-05-13T00:47:42.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"Controle de Vers√£o","image":[""],"datePublished":"2023-05-12T23:40:00.000Z","dateModified":"2023-05-13T00:47:42.000Z","author":[{"@type":"Person","name":"Leandro Souza","url":"https://github.com/leandro-costa"}]}</script><link rel="manifest" href="/blog-material-aula/manifest.webmanifest"><meta name="theme-color" content="#3eaf7c"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover"><title>Controle de Vers√£o | Blog Aulas 20231 TAWII</title><meta name="description" content="Controle de Vers√£o">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d1e1f;
      }

      html,
      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="preload" href="/blog-material-aula/assets/style-87dee181.css" as="style"><link rel="stylesheet" href="/blog-material-aula/assets/style-87dee181.css">
    <link rel="modulepreload" href="/blog-material-aula/assets/app-738b63e8.js"><link rel="modulepreload" href="/blog-material-aula/assets/framework-26c8dc72.js"><link rel="modulepreload" href="/blog-material-aula/assets/05_controle_versao.html-91fceea9.js"><link rel="modulepreload" href="/blog-material-aula/assets/05_controle_versao.html-06ec1bd1.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">Pular para o conte√∫do</a><!--]--><!--[--><div class="theme-container has-toc"><!--[--><header class="navbar" id="navbar"><div class="navbar-start"><button type="button" class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><!--[--><a href="/blog-material-aula/" class="brand"><img class="logo" src="/blog-material-aula/logo.svg" alt="Blog Aulas 20231 TAWII"><!----><span class="site-name hide-in-pad">Blog Aulas 20231 TAWII</span></a><!--]--><!--[--><!----><!--]--></div><div class="navbar-center"><!--[--><!----><!--]--><!--[--><nav class="nav-links"><div class="nav-item hide-in-mobile"><a href="/blog-material-aula/" class="nav-link" aria-label="T√≥picos Avan√ßados em WEB II"><span class="font-icon icon iconfont icon-home" style=""></span>T√≥picos Avan√ßados em WEB II<!----></a></div><div class="nav-item hide-in-mobile"><a href="/blog-material-aula/article/" class="nav-link" aria-label="Publica√ß√µes"><span class="font-icon icon iconfont icon-edit" style=""></span>Publica√ß√µes<!----></a></div><div class="nav-item hide-in-mobile"><a href="/blog-material-aula/category/" class="nav-link" aria-label="Categoria"><span class="font-icon icon iconfont icon-categoryselected" style=""></span>Categoria<!----></a></div><div class="nav-item hide-in-mobile"><a href="/blog-material-aula/tag/" class="nav-link" aria-label="Tag"><span class="font-icon icon iconfont icon-tag" style=""></span>Tag<!----></a></div><div class="nav-item hide-in-mobile"><a href="/blog-material-aula/category/exercicio/" class="nav-link" aria-label="Exerc√≠cios"><span class="font-icon icon iconfont icon-study" style=""></span>Exerc√≠cios<!----></a></div><div class="nav-item hide-in-mobile"><a href="/blog-material-aula/timeline/" class="nav-link" aria-label="Timeline"><span class="font-icon icon iconfont icon-time" style=""></span>Timeline<!----></a></div></nav><!--]--><!--[--><!----><!--]--></div><div class="navbar-end"><!--[--><!----><!--]--><!--[--><!----><div class="nav-item"><a class="repo-link" href="https://github.com/20231-ifba-saj-ads-tawii/blog-material-aula" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button type="button" id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!----><!--]--><!--[--><!----><!--]--><button type="button" class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside class="sidebar" id="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><!--[--><a href="/blog-material-aula/posts/01_devops.html" class="nav-link sidebar-link sidebar-page" aria-label="Devops"><span class="font-icon icon iconfont icon-edit" style=""></span>Devops<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/blog-material-aula/posts/03_WSL.html" class="nav-link sidebar-link sidebar-page" aria-label="Constru√ß√£o dos ambientes de desenvolvimento com WSL"><span class="font-icon icon iconfont icon-edit" style=""></span>Constru√ß√£o dos ambientes de desenvolvimento com WSL<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/blog-material-aula/posts/02_virtualizacao.html" class="nav-link sidebar-link sidebar-page" aria-label="Virtualiza√ß√£o"><span class="font-icon icon iconfont icon-edit" style=""></span>Virtualiza√ß√£o<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/blog-material-aula/posts/04_docker.html" class="nav-link sidebar-link sidebar-page" aria-label="Docker"><span class="font-icon icon iconfont icon-edit" style=""></span>Docker<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-current="page" href="/blog-material-aula/posts/05_controle_versao.html" class="router-link-active router-link-exact-active nav-link active sidebar-link sidebar-page active" aria-label="Controle de Vers√£o"><span class="font-icon icon iconfont icon-edit" style=""></span>Controle de Vers√£o<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/blog-material-aula/posts/05_controle_versao.html#cenario-sem-controle-de-versao" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Cen√°rio sem Controle de vers√£o"><!---->Cen√°rio sem Controle de vers√£o<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog-material-aula/posts/05_controle_versao.html#conceito-controle-de-versao" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Conceito Controle de Vers√£o:"><!---->Conceito Controle de Vers√£o:<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/blog-material-aula/posts/05_controle_versao.html#principais-vantagens" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Principais vantagens"><!---->Principais vantagens<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog-material-aula/posts/05_controle_versao.html#controle-de-versao-local" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Controle de vers√£o local"><!---->Controle de vers√£o local<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog-material-aula/posts/05_controle_versao.html#sistemas-de-controle-de-versao-distribuidos" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Sistemas de controle de vers√£o distribu√≠dos"><!---->Sistemas de controle de vers√£o distribu√≠dos<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog-material-aula/posts/05_controle_versao.html#outros-sistemas-de-controle-de-versao" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Outros sistemas de controle de vers√£o:"><!---->Outros sistemas de controle de vers√£o:<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li></ul><!--]--></li><li><!--[--><a href="/blog-material-aula/posts/03_container.html" class="nav-link sidebar-link sidebar-page" aria-label="Container"><!---->Container<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/blog-material-aula/posts/06_gitflow.html" class="nav-link sidebar-link sidebar-page" aria-label="GitFlow"><!---->GitFlow<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/blog-material-aula/posts/00_links_uteis.html" class="nav-link sidebar-link sidebar-page" aria-label="Links"><span class="font-icon icon iconfont icon-edit" style=""></span>Links<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><span class="font-icon icon iconfont icon-edit" style=""></span>Controle de Vers√£o</h1><div class="page-info"><span class="page-author-info" aria-label="Autorüñä" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://github.com/leandro-costa" target="_blank" rel="noopener noreferrer">Leandro Souza</a></span><span property="author" content="Leandro Souza"></span></span><!----><span class="page-date-info" aria-label="Escrito emüìÖ" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2023-05-12T23:40:00.000Z"></span><span class="page-category-info" aria-label="Categoriaüåà" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><!--[--><span class="page-category-item category5 clickable" role="navigation">aula</span><!--]--><meta property="articleSection" content="aula"></span><span class="page-tag-info" aria-label="Tagüè∑" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="tag icon"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><!--[--><span class="page-tag-item tag1 clickable" role="navigation">controle_versao</span><span class="page-tag-item tag6 clickable" role="navigation">git</span><!--]--><meta property="keywords" content="controle_versao,git"></span><span class="page-reading-time-info" aria-label="Tempo de Leitura‚åõ" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>Por volta de 39 min</span><meta property="timeRequired" content="PT39M"></span></div><hr></div><div class="toc-place-holder"><aside id="toc"><!--[--><!----><!--]--><div class="toc-header">On This Page<button type="button" class="print-button" title="Imprimir"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button></div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/blog-material-aula/posts/05_controle_versao.html#cenario-sem-controle-de-versao" class="router-link-active router-link-exact-active toc-link level2">Cen√°rio sem Controle de vers√£o</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog-material-aula/posts/05_controle_versao.html#conceito-controle-de-versao" class="router-link-active router-link-exact-active toc-link level2">Conceito Controle de Vers√£o:</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/blog-material-aula/posts/05_controle_versao.html#principais-vantagens" class="router-link-active router-link-exact-active toc-link level3">Principais vantagens</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog-material-aula/posts/05_controle_versao.html#controle-de-versao-local" class="router-link-active router-link-exact-active toc-link level3">Controle de vers√£o local</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog-material-aula/posts/05_controle_versao.html#sistemas-de-controle-de-versao-distribuidos" class="router-link-active router-link-exact-active toc-link level3">Sistemas de controle de vers√£o distribu√≠dos</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog-material-aula/posts/05_controle_versao.html#outros-sistemas-de-controle-de-versao" class="router-link-active router-link-exact-active toc-link level3">Outros sistemas de controle de vers√£o:</a></li><!----><!--]--></ul></li><!--]--></ul><div class="toc-marker" style="top:-1.7rem;"></div></div><!--[--><!----><!--]--></aside></div><!----><div class="theme-hope-content"><h1 id="controle-de-versao" tabindex="-1"><a class="header-anchor" href="#controle-de-versao" aria-hidden="true">#</a> Controle de Vers√£o</h1><h2 id="cenario-sem-controle-de-versao" tabindex="-1"><a class="header-anchor" href="#cenario-sem-controle-de-versao" aria-hidden="true">#</a> Cen√°rio sem Controle de vers√£o</h2><p>Pense assim, um jornalista iniciante hoje, ou um jornalista nos anos 70 ou 80, n√£o importa. Voc√™ est√° nos primeiros passos, voc√™ quer escrever uma not√≠cia.</p><ul><li>Ent√£o voc√™ abre um editor de textos qualquer e come√ßa a criar arquivos e vai salvando em algum diret√≥rio.</li><li>Depois voc√™ vai escrever por cima do seu documento de ontem, salvar e descobrir que fez algo errado e agora perdeu a vers√£o anterior.</li><li>Voc√™ vai renomear arquivos, sair apagando, e em algum momento vai apagar um arquivo que n√£o devia. (Quem nunca?)</li><li>Depois de apagar coisas por acidente algumas vezes, voc√™ vai come√ßar a duplicar os arquivos antes de editar.</li><li>Ent√£o, voc√™ vai come√ßar a ter vers√µes diferentes do mesmo documento no diret√≥rio.</li><li>Eu cansei de fazer isso e cansei de ver documentos de outras pessoas cheios de vers√µes antigas que n√£o deveriam estar l√°.</li></ul><p>E aqui vem o segundo problema, voc√™ precisa que outro jornalista trabalhe na mesma not√≠cia. Uma das maneiras de fazer isso √© colocar o diret√≥rio do projeto em alguma pasta compartilhada na rede local. Ent√£o, acontece de ambos abrirem o mesmo documento para editar. Voc√™ edita e salva primeiro. Ent√£o, o segundo jornalista edita a parte dele salva por cima! E pronto, voc√™ acabou de perder o que estava fazendo.</p><h2 id="conceito-controle-de-versao" tabindex="-1"><a class="header-anchor" href="#conceito-controle-de-versao" aria-hidden="true">#</a> Conceito Controle de Vers√£o:</h2><p>O controle de vers√£o refere-se ao gerenciamento e rastreamento de altera√ß√µes feitas em um conjunto de arquivos ao longo do tempo. Ele permite que os desenvolvedores acompanhem as modifica√ß√µes feitas em seu c√≥digo-fonte, arquivos de configura√ß√£o, documentos e outros ativos do projeto. O controle de vers√£o √© essencial para o trabalho colaborativo e o desenvolvimento de software, pois permite que v√°rias pessoas trabalhem no mesmo projeto, fa√ßam altera√ß√µes independentes em arquivos diferentes e depois combinem essas altera√ß√µes de forma controlada. Os sistemas de controle de vers√£o, como Git, Subversion e Mercurial, s√£o projetados especificamente para gerenciar e controlar as vers√µes de arquivos.</p><h3 id="principais-vantagens" tabindex="-1"><a class="header-anchor" href="#principais-vantagens" aria-hidden="true">#</a> Principais vantagens</h3><p><sup class="footnote-ref"><a href="#footnote1">[1]</a><a class="footnote-anchor" id="footnote-ref1"></a></sup></p><p>As principais vantagens de se utilizar um sistema de controle de vers√£o para rastrear as altera√ß√µes feitas durante o desenvolvimento de software ou o desenvolvimento de um documento de texto qualquer s√£o:</p><ul><li><strong>Controle do hist√≥rico</strong>: facilidade em desfazer e possibilidade de analisar o hist√≥rico do desenvolvimento, como tamb√©m facilidade no resgate de vers√µes mais antigas e est√°veis. A maioria das implementa√ß√µes permitem analisar as altera√ß√µes com detalhes, desde a primeira vers√£o at√© a √∫ltima.</li><li><strong>Trabalho em equipe</strong>: um sistema de controle de vers√£o permite que diversas pessoas trabalhem sobre o mesmo conjunto de documentos ao mesmo tempo e minimiza o desgaste provocado por problemas com conflitos de edi√ß√µes. √â poss√≠vel que a implementa√ß√£o tamb√©m tenha um controle sofisticado de acesso para cada usu√°rio ou grupo de usu√°rios.</li><li><strong>Marca√ß√£o e resgate de vers√µes est√°veis</strong>: a maioria dos sistemas permite marcar onde √© que o documento estava com uma vers√£o est√°vel, podendo ser facilmente resgatado no futuro.</li><li><strong>Ramifica√ß√£o de projeto</strong>: a maioria das implementa√ß√µes possibilita a divis√£o do projeto em v√°rias linhas de desenvolvimento, que podem ser trabalhadas paralelamente, sem que uma interfira na outra.</li><li><strong>Seguran√ßa</strong>: Cada software de controle de vers√£o usa mecanismos para evitar qualquer tipo de invas√£o de agentes infecciosos nos arquivos. Al√©m do mais, somente usu√°rios com permiss√£o poder√£o mexer no c√≥digo.</li><li><strong>Rastreabilidade</strong>: Com a necessidade de sabermos o local, o estado e a qualidade de um arquivo; o controle de vers√£o traz todos esses requisitos de forma que o usu√°rio possa se embasar do arquivo que deseja utilizar.</li><li><strong>Organiza√ß√£o</strong>: Alguns softwares disponibilizam uma interface visual onde podem ser vistos todos os arquivos controlados, desde a origem at√© o projeto por completo.</li><li><strong>Confian√ßa</strong>: O uso de reposit√≥rios remotos (na nuvem) ajuda a n√£o perder arquivos por eventos inesperados. Al√©m disso, e poss√≠vel fazer novos projetos sem danificar o desenvolvimento do atual.</li></ul><h3 id="controle-de-versao-local" tabindex="-1"><a class="header-anchor" href="#controle-de-versao-local" aria-hidden="true">#</a> Controle de vers√£o local</h3><p>No in√≠cio da programa√ß√£o de software, os desenvolvedores costumavam usar m√©todos simples para controlar suas vers√µes localmente. Isso envolvia fazer c√≥pias de seguran√ßa manuais dos arquivos de c√≥digo-fonte em diret√≥rios diferentes ou usando ferramentas b√°sicas, como a cria√ß√£o de arquivos com diferentes extens√µes (por exemplo, &quot;script_v1.py&quot;, &quot;script_v2.py&quot;, etc.).</p><ul><li><p><em>SCCS (Source Code Control System)</em>: Em meados dos anos 70, o SCCS foi o primeiro sistema de controle de vers√£o criado. Ele permitia aos desenvolvedores criar um reposit√≥rio centralizado onde podiam armazenar e controlar as altera√ß√µes em seus arquivos de c√≥digo-fonte. No entanto, o SCCS tinha suas limita√ß√µes e s√≥ funcionava em sistemas UNIX.</p></li><li><p><em>RCS (Revision Control System)</em>: Na d√©cada de 1980, o RCS foi desenvolvido como uma evolu√ß√£o do SCCS. Ele introduziu recursos adicionais, como a capacidade de mesclar altera√ß√µes de diferentes desenvolvedores e rastrear as modifica√ß√µes com mais precis√£o. O RCS ainda √© usado em alguns ambientes Unix, mas foi substitu√≠do por sistemas mais avan√ßados em muitos contextos.</p></li><li><p><em>CVS (Concurrent Versions System)</em>: Lan√ßado em 1986, o CVS foi o primeiro sistema de controle de vers√£o a permitir a colabora√ß√£o em tempo real entre os desenvolvedores. Ele introduziu a no√ß√£o de um reposit√≥rio centralizado acessado por v√°rias pessoas, facilitando a mesclagem de altera√ß√µes e o acompanhamento do hist√≥rico do projeto. O CVS foi amplamente adotado no mundo do software livre e de c√≥digo aberto.</p></li></ul><figure><img src="https://www.plantuml.com/plantuml/svg/dPB1QeGm48RlUOh1dfLEl7MXh1dO5oZqKde8PhehkA5e2eNITszY4jT8J-iXcV_tct-2yJWxFRclwoW-Xf6XYvkA6mdHGTEyNGPZsBvxMssbVprnxxGz1_Rr1Nu4-2S68UWPgWwRnmfkjegssjaKRThP7QufMC73fnxvF37RmpXOVhgLZT7pXSt1yRUBzdRYEXBBaUjCB4yeCozBNcPUtd-MDcUtTsJqmzI7ht9QGg3Qcke_amfpMVozR2yK5rCL9g58w8xDy8xEEDJFlYSoeKxX56h2FBqEkMk-LoUHpr0NCuAIISb5jKcrGQKs2Y2bDiAeP5AXZJpuAyIHhV5_-Hy0" alt="uml diagram"><figcaption>Representa√ß√£o do versionamento com CVS</figcaption></figure><ul><li><em>SVN (Subversion)</em>: O SVN surgiu no in√≠cio dos anos 2000 como uma alternativa ao CVS. Ele corrigiu algumas das defici√™ncias do CVS e ofereceu recursos mais avan√ßados, como versionamento de diret√≥rio, suporte a arquivos bin√°rios e a capacidade de renomear e mover arquivos sem perder o hist√≥rico. O SVN tamb√©m tinha um modelo de reposit√≥rio centralizado.</li></ul><figure><img src="https://www.plantuml.com/plantuml/svg/RP713e8m38RlVOg6EsIRTmFRtOCcN8m78bD940tWoVZkTbI14hXq-zhi_rBIhY_Q_dMluLBL7ZCkbei3o319ZhUgB7rp8cpdLsgt_jmNpPLc3_bkxv-FNECRa3v-JcFHOPJfH4KuOSlOBh1Zx1WFd1wOv-i1MW6TXa_mZBSqJO9KQSw5IgqLGoCDHqKj5KT7FSaiR3XPOnnQOCCXm9NCZSmq_qmZCjM0KUvaNChCmmWFnLjHSYi_EROpuC8XKA2Ha0MfRqhwyLy0" alt="uml diagram"><figcaption>Representa√ß√£o do versionamento com SVN</figcaption></figure><h3 id="sistemas-de-controle-de-versao-distribuidos" tabindex="-1"><a class="header-anchor" href="#sistemas-de-controle-de-versao-distribuidos" aria-hidden="true">#</a> Sistemas de controle de vers√£o distribu√≠dos</h3><p>A pr√≥xima grande evolu√ß√£o veio com o surgimento dos sistemas de controle de vers√£o distribu√≠dos, que n√£o dependiam mais de um reposit√≥rio centralizado. Dois sistemas que se destacaram foram o Git e o Mercurial.</p><ul><li><p><em>Mercurial</em>: Lan√ßado em 2005, o Mercurial foi desenvolvido como uma alternativa ao Git, oferecendo recursos semelhantes de controle de vers√£o distribu√≠do. O Mercurial foi projetado para ser f√°cil de usar e flex√≠vel, com uma √™nfase na simplicidade e consist√™ncia do design. Embora n√£o tenha alcan√ßado a mesma popularidade do Git, o Mercurial ainda √© utilizado em alguns projetos e organiza√ß√µes.</p></li><li><p><em>Git</em>: Criado por Linus Torvalds em 2005, o Git rapidamente se tornou o sistema de controle de vers√£o mais popular e amplamente utilizado. Ele foi projetado para ser r√°pido, eficiente e escal√°vel, permitindo que os desenvolvedores trabalhassem offline, realizassem ramifica√ß√µes e mesclas facilmente, e colaborassem em projetos de maneira distribu√≠da. O Git √© usado em uma ampla gama de projetos, desde pequenos reposit√≥rios pessoais at√© grandes projetos de c√≥digo aberto.</p></li></ul><h3 id="outros-sistemas-de-controle-de-versao" tabindex="-1"><a class="header-anchor" href="#outros-sistemas-de-controle-de-versao" aria-hidden="true">#</a> Outros sistemas de controle de vers√£o:</h3><p>Al√©m do Git e do Mercurial, existem outros sistemas de controle de vers√£o distribu√≠dos e centralizados dispon√≠veis, como Bazaar, Perforce, TFS (Team Foundation Server), entre outros. Cada um desses sistemas tem suas pr√≥prias caracter√≠sticas e benef√≠cios, e a escolha do sistema de controle de vers√£o depende das necessidades e prefer√™ncias espec√≠ficas de cada equipe ou projeto.</p><p>Ao longo dos anos, os sistemas de controle de vers√£o evolu√≠ram para fornecer recursos mais avan√ßados, como ramifica√ß√µes e mesclas mais eficientes, rastreamento detalhado de altera√ß√µes, suporte a fluxos de trabalho complexos e integra√ß√£o com outras ferramentas de desenvolvimento. Al√©m disso, surgiram servi√ßos de hospedagem de c√≥digo, como GitHub e GitLab, que facilitam o compartilhamento e a colabora√ß√£o em projetos baseados em Git.</p><p><a href="https://git-scm.com/book/pt-br/v2" target="_blank" rel="noopener noreferrer">Link ebook GIT<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p><a href="https://github.com/20231-ifba-saj-ads-tawii/repo_teste" target="_blank" rel="noopener noreferrer">Reposit√≥rio para teste<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><!-- 
Entendendo GIT | (n√£o √© um tutorial!) - YouTube
https://www.youtube.com/watch?v=6Czd1Yetaac

Transcript:
(00:00) Ol√° pessoal Fabio Akita Finalmente t√¥ de volta! Fiquei uns dois meses
fora meio que de f√©rias de fim de ano enquanto eu tava fazendo obras e me mudando pro meu
novo apartamento. Ainda n√£o t√° 100% mas voc√™s j√° podem ver que o cen√°rio mudou
e este √© o piloto de teste da nova configura√ß√£o de equipamentos. Ainda vou refinar mais um
pouco e em breve fa√ßo um v√≠deo sobre como
(00:18) t√¥ gravando a partir de agora. Como j√° estamos em fevereiro nem vou falar
de retrospectiva nem nada disso. Vamos j√° pular direto pra um assunto t√©cnico. Na real,
eu t√¥ postergando esse tema desde um ano atr√°s quando comecei a s√©rie Come√ßando
aos 40 e no primeiro v√≠deo de conhecimentos gerais eu disse que era obrigat√≥rio conhecer
Git e Linux. Linux eu j√° fiz um epis√≥dio
(00:40) onde falei sobre como instalar e configurar
um ambiente de desenvolvimento em Ubuntu. Ent√£o resta falar sobre Git. Por√©m, j√° vou avisar que isso N√£o √© um
tutorial de Git. Uma coisa que eu n√£o t√¥ a fim de fazer √© tutoriais que voc√™ pode
facilmente encontrar em qualquer outro canal, ou curso online ou posts de blog. Aprender
a meia d√∫zia de comandos b√°sicos de Git
(01:01) √© super simples, nenhum inconveniente. Em
poucas horas voc√™ j√° aprendeu e com poucos dias praticando voc√™ j√° devia ser capaz
de participar de um projeto. Em vez disso, eu quero dar alguns insights que talvez voc√™s
n√£o saibam mesmo se j√° usam Git faz tempo. Essa hist√≥ria come√ßa uns 12 anos atr√°s. (...)
(01:23) Lembro bem que era um dia de semana por volta
de 2007, eu tava voltando de algum cliente ou algo assim no meu carro e naquela √©poca
eu ouvia alguns podcasts e audiobooks porque eu gastava muitas horas no carro indo e voltando
do trabalho. E um dos programas que eu ouvia naquela √©poca era o FLOSS Weekly do Leo Laporte,
epis√≥dio 19 do dia 1o de setembro de 2007.
(01:47) Uma entrevista com Junio Hamano, entrevistado
por ningu√©m menos que Randal Schwartz que era bem conhecido na comunidade Perl. Vou
deixar o link desse epis√≥dio nas descri√ß√µes abaixo. Eu mesmo preciso ouvir de novo porque
eu s√≥ ouvi uma √∫nica vez naquele dia. Pra dar um contexto, nessa √©poca eu tava
deixando de ser consultor SAP e programador
(02:08) Java pra experimentar ser freelancer em Ruby
on Rails. Eu contei um pouco disso no epis√≥dio sobre SAP e sobre Ruby on Rails ent√£o d√™em
uma olhada. Mas o comum naquela √©poca na maioria das empresas era, ou n√£o usar nenhum
tipo de controle de vers√£o de c√≥digo fonte, ou no m√°ximo algum produto comercial Bem
porcaria como Microsoft SourceSafe ou Rational
(02:29) ClearCase. Mundo open source ainda n√£o tinha
tanta for√ßa, muitos projetos ainda usavam CVS, alguns poucos tavam indo pra Subversion.
A primeira d√©cada do s√©culo XXI ainda tava muito atrasado em rela√ß√£o a qualidade de
vida pra desenvolvedores. Eu era um dos rebeldes chatos que ficava insistindo
em tentar usar pelo menos Subversion no mundo
(02:50) corporativo, porque eu j√° tinha cicatrizes
demais por conta do SourceSafe. Ningu√©m merece aquele lixo. Eu sofri com SourceSafe desde
o ano 2000 e j√° tava de saco cheio. E mesmo Subversion n√£o era nenhuma grande maravilha,
era mais a filosofia do ‚Äúmenos pior‚Äù mesmo. E CVS, quem teve que lidar com essa outra
porcaria nos anos 90 lembra o sofrimento.
(03:13) Mundo open source e mundo corporativo estavam
bem mal servidos. A entrevista do podcast era com Junio Hamano
que era, e acho que ainda √©, o mantenedor do Git. E ele tava justamente explicando que
diabos era isso de Git. Em 2007 literalmente ningu√©m fora dos colaboradores da kernel
do Linux tinham muita id√©ia sobre isso. Como
(03:32) eu tinha essa p√©ssima experi√™ncia com CVS,
subversion, SourceSafe e tudo mais, quando eu ouvi a explica√ß√£o fiquei com vontade
de experimentar o quanto antes. Ent√£o cheguei em casa e fui logo pesquisar.
Obviamente tinha pouca coisa online a respeito. Foi meio um dejavu, foi a mesma sensa√ß√£o
quando pesquisei sobre Ruby on Rails 2 anos
(03:52) antes e tamb√©m n√£o achava ningu√©m muito
interessado. Mas a√≠ esbarrei numa palestra do pr√≥prio Linus Torvalds de poucos meses
antes. Foi uma tech talk dentro do Google. Tem um monte de coisas do Google que eu pessoalmente
n√£o gosto, mas n√£o se pode negar que eles sempre tentam estar um passo √† frente nas
tend√™ncias. E se tem um video sobre Git que
(04:11) eu diria que deveria ser obrigat√≥rio assistir
√© essa tech talk de Maio de 2007 do Torvalds. A seguinte passagem foi o que vendeu Git pra
mim: (Linus xinga CVS e Subversion)
(anybody who disagree is ugly) Eu Adoro quando o
(05:53) Torvalds n√£o s√≥ pisa no calo, mas puxa o
martelo e marreta com for√ßa. Em resumo, antes do Git a manuten√ß√£o do projeto da kernel
do Linux era feita literalmente com patches e tarballs. Vou voltar pra explicar isso j√°
j√°. Mas a√≠ eles encontraram a ferramenta comercial BitKeeper que foi um dos primeiros
versionadores de c√≥digo distribu√≠dos e bem
(06:32) feitos. E assim como o GitHub, era uma ferramenta
fechada mas que eles deixaram projetos open source usar. S√≥ que o problema de confiar
numa ferramenta comercial √© que por um tempo eles podem ser legais e deixar usar de gr√°tis,
mas um belo dia podem proibir de usar. E foi o que aconteceu, porque algu√©m tentou fazer
engenharia reversa do protocolo deles, se
(06:54) n√£o me engano, e eles n√£o gostaram nada
disso e mudaram de id√©ia. Da√≠ o Linux ia ficar sem o BitKeeper. Obviamente
outras porcarias como SourceSafe jamais foram cogitados como alternativa. E nem voltar pra
coisas como CVS. A outra op√ß√£o era voltar ao procedimento anterior de patches e tarballs.
Depois de lan√ßar a kernel 2.6 o Torvalds
(07:14) queria resolver esse problema de uma vez.
Ele olhou as op√ß√µes e pensou assim. (eu fa√ßo melhor em duas semanas e tava certo) Eu n√£o sou contra falar grande se a pessoa
entrega grande. E Torvalds como todo mundo
(08:47) sabe, entrega. E o resultado disso foi o Git,
que ele desenvolveu por volta de 2015. Antes de continuar, vale eu voltar rapidamente na
hist√≥ria. Pensa assim, um programador iniciante hoje ou um programador nos anos 70 ou 80,
n√£o importa. Voc√™ t√° nos primeiros passos, voc√™ quer escrever c√≥digo. Ent√£o voc√™
abre um editor de textos qualquer e come√ßa
(09:08) a criar arquivos e vai salvando em algum diret√≥rio. Muito rapidamente voc√™ vai cair nos mesmos
erros que todo programador sempre caiu n√£o importa em qual √©poca. Voc√™ vai escrever
em cima do seu c√≥digo de ontem, salvar e depois descobrir que fez errado e agora perdeu
a vers√£o de ontem. Voc√™ vai renomear arquivos,
(09:26) sair apagando, e uma hora vai apagar um arquivo
que n√£o devia. Quem nunca? Depois de apagar coisas por acidente algumas vezes, voc√™ vai
come√ßar a duplicar os arquivos antes de editar. Da√≠ vai come√ßar a ficar com vers√µes diferentes
do mesmo arquivo no diret√≥rio. Eu cansei de fazer isso quando era novo e cansei de
ver projetos dos outros cheio de arquivos
(09:47) velhos que n√£o deviam estar l√°. Da√≠ vem o segundo problema, voc√™ precisa
que outro desenvolvedor trabalhe no mesmo projeto. Uma das maneiras de fazer isso √©
colocar o diret√≥rio do projeto em alguma pasta compartilhada na rede local. Da√≠ acontece
de os dois abrirem o mesmo arquivo pra editar. Voc√™ edita e salva primeiro. Da√≠ o segundo
cara edita a parte dele e salva por cima!
(10:10) E pronto, voc√™ acabou de perder o que tava
fazendo. Por isso que muitos produtos comerciais daquela
√©poca como SourceSafe ou ClearCase, que eu j√° xinguei v√°rias vezes, tem como princ√≠pio
ser uma camada por cima do sistema de arquivos de rede e te dar a op√ß√£o de bloquear um
arquivo ou diret√≥rio. Da√≠ antes de abrir
(10:28) um arquivo, primeiro voc√™ bloqueia ou faz
checkin. Da√≠ se outro programador tentar abrir o mesmo arquivo o sistema vai negar.
E ele tem que esperar voc√™ terminar, salvar e dar checkout pra desbloquear o arquivo. Isso ajuda um pouquinho, mas n√£o muito. Eu
lembro que no ano 2000 eu trabalhava no Brasil
(10:46) mas na empresa tinha grupos de programadores
em Miami, em Buenos Aires e outros lugares da Am√©rica Latina. Da√≠ um infeliz em Miami
bloqueava um arquivo e ia embora sem desbloquear. E eu precisava editar aqui e n√£o conseguia.
Da√≠ tinha que ligar pra algu√©m que fosse administrador do servidor pra desbloquear
for√ßado.
(11:07) Esse sistema de bloquear e desbloquear era
um lixo na pr√°tica. S√≥ servia pra casos muito simples. E isso n√£o resolve o problema
de algu√©m ou voc√™ mesmo salvar o que n√£o devia e perder o que tinha antes. Pra isso
precisava ter versionamento. Hoje em dia os pr√≥prios sistemas operacionais e mesmo produtos
como Dropbox j√° oferecem um m√≠nimo de versionamento.
(11:26) Mesmo que voc√™ apague o conte√∫do de um arquivo
e grave, voc√™ pode optar em pedir pro sistema fazer tipo um backup da vers√£o anterior.
Da√≠ voc√™ tem a op√ß√£o de tentar recuperar algumas vers√µes pra tr√°s. Veja um Time Machine
da Apple por exemplo. Hoje em dia a maioria das pessoas tem no m√≠nimo 128GB de HD mas
√© muito comum ter meio tera ou mais que um
(11:47) terabyte. O computador que eu uso pra editar
meus v√≠deos tem 2 Samsung EVO nvme2 de 3TB cada, sem contar os backups externos. Mas no ano 2000 era luxo ter 10 GB de HD.
M√°quina corporativa podia ter menos que isso ainda. E projeto Java naquela √©poca era pesado
como √© hoje mesmo. Nos anos 90 pra tr√°s,
(12:08) espa√ßo em disco era mais inacess√≠vel ainda.
O jeito tosco que eu falei acima de duplicar o arquivo antes de editar, pro caso de voc√™
precisar da vers√£o anterior √© super ineficiente n√£o s√≥ porque vai sujando seu diret√≥rio
de arquivos desnecess√°rios. Mas vira um enorme desperd√≠cio de espa√ßo caro em disco. Por
isso acho que foi por volta dos anos 70, na
(12:29) √©poca dos UNIX que surgiram duas ferramentas
que existem at√© hoje nos Linux e devia ser ensinado como parte da mat√©ria de algoritmos
e estruturas de dados. A primeira ferramenta se chama Diff que √©
usado pra tirar a diferen√ßa entre dois arquivos. E aqui √© um exemplo de onde estudo de algoritmos
faz diferen√ßa. Se voc√™ como iniciante quiser
(12:49) fazer uma ferramenta que abre dois arquivos
e tira a diferen√ßa em um terceiro arquivo, como voc√™ faria? √â um problema exponencial
que fica lento muito r√°pido se implementar desse jeito tosco. Mas existe um algoritmo
bem conhecido pra encontrar a subsequ√™ncia comum mais longa entre dois strings. No pior
caso a complexidade vai ser de 2 elevado a
(13:10) m, sendo m o tamanho de um dos arquivos. Mas
no melhor caso a complexidade cai pra m vezes n, sendo m e n o tamanho dos dois arquivos.
Se fizer da forma ing√™nua vai ficar exponencialmente pior que isso. Ali√°s, se voc√™s est√£o estudando algoritmos
e estruturas de dados na faculdade, recomendo estudar esse algoritmo tamb√©m. O professor
de voc√™s pode ajudar. Ou procurem v√≠deos
(13:32) no YouTube mesmo com a explica√ß√£o passo
a passo pra entender como voc√™ consegue achar essa subsequ√™ncia. A partir dessa subsequ√™ncia,
se um conte√∫do existe no arquivo original mas n√£o existe na subsequ√™ncia, podemos
marcar com um caracter como "menos". Se n√£o existe no arquivo original mas existe na subsequ√™ncia,
podemos marcar com um caracter como "mais".
(13:53) Adicione a essa subsequ√™ncia alguns metadados
como em qual linha do arquivo aquela subsequ√™ncia se localiza e chegamos no que chamamos do
formato de um patch. Ent√£o a ferramenta diff que todo Linux tem
consegue achar a subsequ√™ncia comum mais longa entre dois arquivos, adiciona metadados
como o n√∫mero da linha no arquivo e gera
(14:13) esse arquivo de patch. Patch que em ingl√™s
√© basicamente um remendo. Alguns dizem que essa √© a origem do nome Apache, o servidor
web. Era A-Patch, por isso Apache. Enfim, dentro de um arquivo de patch voc√™
tem chunks ou hunks de c√≥digo, que √© literalmente nacos de c√≥digo. V√°rios nacos de c√≥digo,
ou hunks, formam um patch, que √© um remendo.
(14:37) Da√≠ digamos que voc√™ queira mandar as modifica√ß√µes
que voc√™ fez num arquivo pra um amigo seu que tem o mesmo arquivo. Voc√™ envia s√≥ o
arquivo de patch. E no Linux tem a segunda ferramenta que eu falei, que se chama patch
e √© feito pra aplicar um arquivo de patch no arquivo original, pra ter a vers√£o nova.
(15:00) Se voc√™ j√° pelo menos andou fu√ßando um
projeto num GitHub da vida, j√° deve ter visto o formato de patches s√≥ que colorizado. Mas
√© basicamente a mesma coisa. A ferramenta diff nasceu por volta de 1976 ent√£o ele √©
pouca coisa mais velho do que eu ... e gra√ßas a isso ficou mais econ√¥mico guardar s√≥ as
modifica√ß√µes feitas sobre o arquivo original
(15:18) em vez de duplicar o arquivo toda vez s√≥
por causa de Uma linha modificada. Ent√£o economizamos tanto espa√ßo em disco quanto
banda de rede j√° que se fosse transferir as modifica√ß√µes pela rede, antes precisava
ir o arquivo modificado inteiro, agora pode ir s√≥ o patch que vai ser muito menor. E
de novo, lembre-se que hoje voc√™ tem banda
(15:39) larga com 200Mb por segundo ou mais, mas antigamente
estamos falando de linhas discadas ou redes lentas que trafegavam alguns kilobytes por
segundo s√≥. Agora, se voc√™ tiver outro programador que
t√° colaborando no mesmo projeto, n√£o basta s√≥ dar o patch pra ele, ele precisa ter alguma
vers√£o do projeto baixado pra poder aplicar
(15:58) esse patch. E como ele baixa o projeto? Pensando
de novo nos prim√≥rdios da internet, uma forma de fazer isso seria baixar de um servidor
de arquivos. S√≥ que eu j√° expliquei que temos essa limita√ß√£o de baixa velocidade.
Dependendo do tamanho do projeto pode ficar bem lento de baixar. Pense que antigamente, anos 70 pra tr√°s,
disco r√≠gido era uma coisa bem cara. A forma
(16:20) mais comum nos mainframes e minicomputadores
era armazenar dados em fitas. Rolos de fitas. E pra gravar em fita voc√™ precisava tentar
desperdi√ßar menos espa√ßo quanto poss√≠vel e da√≠ no fim dos anos 70 nasce o formato
de grava√ß√£o de arquivos em fita ou tape archive, que voc√™ conhece hoje como TAR.
A estrutura de dados de um TAR √© gravar uma
(16:42) s√©rie de objetos um atr√°s do outro. Tar
√© traduzido literalmente como alcatr√£o, um poluente de petr√≥leo, mas pense mais como
um piche. Ent√£o se voc√™ tem uma bola de piche onde objetos v√£o grudando, voc√™ tem
um tarball. Da√≠ que vem esse termo que todo mundo de
Unix e Linux sempre usa mas voc√™ nunca soube
(17:01) o que era. Na pr√°tica pense que em vez de
voc√™ ter 100 arquivos separados, voc√™ combine os 100 um atr√°s do outro num √∫nico arquiv√£o.
A grosso modo isso √© um tar. E pra ser eficiente o comando tar dos Unix e Linux ganhou capacidade
de adicionar compress√£o sem perda a partir dos anos 90. Ali√°s, compress√£o existem dois tipos, lossy
e lossless, ou seja, compress√£o que perde
(17:24) dados e compress√£o que n√£o perde dados.
Exemplos de compress√£o lossy que perde dados √© JPEG pra imagens ou MP3 pra m√∫sica. Exemplos
de compress√£o que n√£o perde dados √© Zip ou 7z. A compress√£o mais simples que voc√™
mesmo pode aprender sozinho e deveria ser ensinado na faculdade na mat√©ria de algoritmos
e estruturas de dados √© o algoritmo de Huffman
(17:46) pra compress√£o de texto. O formato gzip que voc√™ v√™ at√© hoje em
Linux usa o algoritmo deflate que √© uma combina√ß√£o de uma varia√ß√£o do Lempel-Ziv e do Huffman.
Ali√°s, algoritmos de compress√£o √© outra √°rea que os russos dominavam. Se voc√™ j√°
usou ou ouviu falar de RAR o nome vem de Roshal Archive, que √© o nome do inventor russo Eugene
Roshal. O zip e o 7zip vem de outro russo,
(18:10) Igor Pavlov. No fim dos anos 80 um dos compressores
mais famosos na √©poca do MS-DOS era o PKZIP que eu usei bastante. Mas nesse caso era do
americano Phil Katz. E foi Katz que inventou o deflate dos Unix. Compress√£o √© outro tema
complicado de explicar a hist√≥ria, mas at√© hoje voc√™ usa alguma varia√ß√£o disso. Qualquer
p√°gina na web que seu navegador baixa √©
(18:32) entregue comprimido pelos servidores web,
normalmente por gzip. De qualquer forma, essa tangente foi s√≥ pra
explicar que com as ferramentas que eu descrevi, voc√™ j√° consegue montar um fluxo de trabalho
pra um projeto como a kernel do Linux. O Linus Torvalds faz um tarball da vers√£o 1.0 da
kernel e coloca num servidor FTP p√∫blico.
(18:52) Um outro desenvolvedor como um Alan Cox ou
Andrew Morton baixa do FTP e come√ßa a desenvolver alguma nova funcionalidade. Quando termina,
faz um diff dos arquivos e envia anexado num e-mail de volta pro Linus. No Unix e Linux
existem comandos de terminal pra conectar em servidores POP3 ou IMAP hoje em dia, ent√£o
o Linus consegue automatizar baixar o e-mail,
(19:15) separar o anexo, e usar o comando patch do
Linux pra aplicar os patches na vers√£o na sua m√°quina. Se tudo estiver ok pra ele,
ele faz um novo tarball vers√£o 1.1 e coloca no servidor. Se voc√™ j√° fu√ßou servidores
de FTP j√° deve ter visto diret√≥rios de projetos com tarballs de diversas vers√µes. N√£o √© um fluxo eficiente em 2020, mas nos
anos 90, estamos falando no que havia de mais
(19:39) avan√ßado em fluxo de trabalho distribu√≠do.
Ent√£o a internet, somado com ferramental Linux como diff, patch, tar, gzip, FTP, e-mail,
permitiram um fluxo de trabalho distribu√≠do e o nascimento do mundo open source como conhecemos
hoje. Alguma varia√ß√£o disso j√° existia no mundo Unix nos anos 80 mas foi com o Linux
que esse modelo de trabalho come√ßou a ganhar
(20:02) ch√£o. Mas isso √© no mundo p√≥s-internet comercial
e Linux. No come√ßo dos anos 70 j√° havia o conceito de versionamento de c√≥digo fonte.
Em resumo em 1972 havia o SCSS ou Source Code Control System desenvolvido na linguagem SNOBOL
na Bell Labs, obviamente, e usado em sistemas como IBM System 370 at√© o PDP-11. Nos anos
80 foi substitu√≠do por uma evolu√ß√£o, que
(20:26) foi o RCS ou Revision Control System. O RCS
ainda √© mantido at√© hoje. Finalmente por volta de 1990 surgiu o Concurrent Version
System ou CVS pra substituir o RCS. O modelo sempre foi o que se chama de centralizado,
ou cliente-servidor, que era a arquitetura da moda nos anos 80 e 90. Voc√™ configurava
um servidor onde ficava o projeto. Na m√°quina
(20:52) de cada desenvolvedor voc√™ instala um cliente
que consegue se conectar nesse servidor. O servidor era respons√°vel por coisas como
autenticar o login de cada desenvolvedor pra dar permiss√£o de acesso ao c√≥digo. Da√≠
o desenvolvedor podia fazer checkout pra baixar todo o c√≥digo; fazer checkin pra subir as
modifica√ß√µes e de tempos em tempos dar um
(21:12) update pra baixar as √∫ltimas modifica√ß√µes
do servidor. O servidor ia guardando os deltas de modifica√ß√£o, poss√≠vel gra√ßas √† id√©ia
de patches. Novas vers√µes adicionaram coisas como delta compression pra economizar espa√ßo
no disco guardando os patches zipados. E novas funcionalidades foram aparecendo como a id√©ia
de fazer branches.
(21:34) Branch √© um conceito simples com uma opera√ß√£o
complicada. Fazer um branch, da forma mais grosseira, √© duplicar o diret√≥rio do projeto.
Da√≠ voc√™ trabalha num diret√≥rio separado. Quando termina gera os patches e aplica no
diret√≥rio principal e pode apagar o diret√≥rio duplicado. √â uma forma de trabalhar numa
funcionalidade que pode demorar; ou testar
(21:55) corre√ß√£o de bugs, sem atrapalhar o diret√≥rio
principal. Isso funciona bem se voc√™ trabalha sozinho, ou com poucas pessoas, ou com pessoas
que est√£o muito bem coordenadas entre si. Caso contr√°rio isso se torna um puta pesadelo
muito r√°pido. Nos dias de hoje voc√™ tem Pull Requests no GitHub que √© basicamente
um branch do projeto.
(22:16) (Linux branch true guru) Pra adiantar essa hist√≥ria, o que foi o Subversion?
Subversion de fato nasceu com o conceito de CVS feito direito. Na pr√°tica ele adota um
fluxo muito parecido com o CVS mas com uma implementa√ß√£o menos puxadinho e um pouco
mais est√°vel. O b√°sico funciona igual, checkout, checkin ou commit, update. Mas branches sempre
foi o calcanhar de aquiles. O Subversion consertou
(22:38) branches tarde demais. S√≥ na vers√£o 1.5
que saiu em junho de 2008, que ele ganhou a funcionalidade de merge tracking. 8 anos
depois da primeira vers√£o. A√≠ foi muito pouco muito tarde. Em 2008 foi quando o GitHub
come√ßou a bombar e a√≠ o resto √© hist√≥ria. Eu j√° expliquei porque a gente odeia coisas
como SourceSafe, porque o conceito de bloquear
(23:00) arquivos pra s√≥ uma pessoa usar de cada vez
√© uma desgra√ßa. Pior ainda pra gerenciar releases, ou fechar vers√µes. Era t√£o complicado
essas porcarias que nos anos 90 e come√ßo dos anos 2000 havia a figura de um gestor
de configura√ß√£o. Um cara pago pra fazer o equivalente a commit e tagear vers√µes.
Pensa no absurdo de precisar de algu√©m tempo
(23:22) integral pra n√£o corromper muito o c√≥digo
fonte. O outro problema eram as branches. E √© a
raz√£o principal de porque CVS e Subversion tiveram reputa√ß√£o t√£o ruim. A gente era
meio que obrigado a usar porque n√£o tinha op√ß√£o melhor. Ningu√©m usava porque gostava.
Fa√ßa um exerc√≠cio: tenta instalar um servidor
(23:39) CSV em qualquer Linux hoje. Voc√™ vai ver
que √© super chato. Eu mesmo perco a paci√™ncia e desisto no meio de t√£o chato que √© configurar
um CVS. Subversion √© um pouco mais f√°cil de configurar e mesmo assim √© um saco. Um dos grandes defeitos estruturais do CVS
√© que ele guardava revis√µes arquivo por arquivo, ele n√£o entendia o conceito de um
√∫nico arquiv√£o de patch de uma funcionalidade
(24:03) inteira, como um Pull Request hoje por exemplo,
que √© um conjunto de commits. De forma simpl√≥ria um commit √© nada mais que um arquivo de patch
com um cabe√ßalho com metadados como o autor do commit e data e hora. Mas enfim, era dif√≠cil
de gerenciar vers√µes no CVS. Cada desenvolvedor precisava trabalhar num branch ou num fork
que, pra todos os efeitos e prop√≥sitos, √©
(24:26) mais ou menos a mesma coisa, uma duplicata
do projeto original. S√≥ que pra combinar as modifica√ß√µes de dezenas de desenvolvedores
numa √∫nica vers√£o, era um cornojob desgra√ßado, podia levar um dia inteiro ou mais pra conseguir
fazer o merge. Eis que na virada do s√©culo surge a BitMover
e seu produto BitKeeper. Muita gente pensa
(24:46) que a principal diferen√ßa era ser descentralizado.
Mas na realidade a principal novidade foi tornar branches, forks e principalmente merges,
opera√ß√µes razoavelmente triviais. Um trabalho que podia levar horas ou dias reduzido pra
minutos, e com muito menos margem de erros. Por isso que apesar de ser um produto comercial
de c√≥digo fechado, por pragmatismo, o Linus
(25:08) resolveu migrar o desenvolvimento do kernel
pro BitKeeper. Isso foi em 2002, mas em 2 ou 3 anos teve o problema que j√° falei que
a BitMover resolveu botar restri√ß√µes demais ao ponto que o Linus se encheu. Com o CVS e Subversion, que eram as alternativas
open source, muito atrasados em rela√ß√£o ao BitKeeper, as outras alternativas comerciais
sendo as porcarias que sempre foram, muitos
(25:31) come√ßaram a pensar em novas solu√ß√µes. Assim
em 2003 surgiu o Darcs e em 2005 surgiu o Mercurial e a pr√≥pria Canonical que mant√©m
o Ubuntu fez o Bazaar. E tamb√©m em 2005 o pr√≥prio Linus resolveu fazer o Git. No papel
todos eles s√£o muito parecidos. Sistemas de versionamento descentralizados com foco
em resolver o problema de branches e merges.
(25:53) A diferen√ßa √© que todos eles tinham problema
de performance, menos o Git. Mercurial e Bazaar eram feitos em Python,
ent√£o eles n√£o tem como escalar em performance at√© certo ponto. Darcs se n√£o me engano
era feito em Haskell e tamb√©m era criticado por problemas de performance. O Git, por outro
lado, feito pelo Linus sempre foi hiper r√°pido,
(26:12) por√©m dif√≠cil de usar. Mas em casos como
esse, performance e, principalmente seguran√ßa, tem prioridade. Antes desses novos sistemas, a estrutura de
dados que ferramentas como Subversion entendiam era uma √°rvore. Pense diret√≥rios e arquivos.
√â uma √°rvore. Um branch era mais ou menos duplicar a √°rvore. E um merge era comparar
duas √°rvores. Pra ilustrar um problema √≥bvio.
(26:36) Pense que no diret√≥rio original voc√™ renomeia
um arquivo. E no diret√≥rio duplicado voc√™ deleta o mesmo arquivo. Agora tenta fazer
o merge disso no Subversion ou CVS, voc√™ vai tomar um conflito de merge. Isso √© o
tipo de coisa que um Git faz merge automaticamente e corretamente, BitKeeper e os outros novos
tamb√©m.
(26:57) Conflitos de merge √© o pesadelo de todo desenvolvedor
nesses sistemas antigos e incompetentes. Num Git minimamente bem usado voc√™ raramente
encontra conflitos. E mesmo quando encontra eles costumam ser f√°ceis de resolver. Hoje
em dia trabalhar em branches √© super comum, a gente faz isso o tempo todo. Fazer merge
tamb√©m. Idealmente voc√™ faz merges com frequ√™ncia
(27:17) e evita deixar c√≥digo n√£o mergeado esquecido
num branch por semanas ou meses. Mas em sistemas antigos fazer branches custava meio caro,
e com merges eram complicados, voc√™ evitava ao m√°ximo fazer com frequ√™ncia. S√≥ que
quanto mais voc√™ espera tamb√©m mais caro vai ficando, ent√£o era uma faca de dois gumes.
Em vez de ter que passar por todo esse pesadelo
(27:40) a maioria simplesmente desistia de fazer branches
e todo mundo trabalhava na mesma vers√£o, que em Subversion se chama trunk, em Git √©
o que voc√™ conhece como master. Por isso antigamente se tinha tanta discuss√£o
sobre quem podia ou quem n√£o podia ter acesso de escrever, ou seja acesso de commit no trunk.
O Linus explica isso melhor:
(28:00) (Linus morons commit access) Agora, por que branches e
(29:55) merges num sistema como Git √© t√£o infinitamente
melhor do que num Subversion antes da vers√£o 1.5? Pra simplificar vamos pensar o que voc√™
v√™ hoje em dia num projeto num GitHub da vida, que usa Git por baixo. Ali√°s, se voc√™
n√£o sabia, voc√™ n√£o precisa de GitHub pra usar Git, o GitHub √© s√≥ um facilitador mas
ele √© opcional. De qualquer forma, se voc√™
(30:26) j√° fez qualquer tutorial de Git e j√° tentou
usar um pouco deve ter notado alguns termos que a gente usa. Vamos recapitular, voc√™
faz git clone pra puxar uma c√≥pia do projeto pra sua m√°quina. Voc√™ vai fazendo modifica√ß√µes,
edita um arquivo, cria um novo, renomeia outro e quando termina uma parte do trabalho, faz
um git add pra marcar essas altera√ß√µes e
(30:46) faz um git commit pra empacotar essas modifica√ß√µes.
Se voc√™ n√£o sabia disso, o git commit por baixo faz algo equivalente ao diff que falei
antes. Um commit √© o patch de modifica√ß√µes desde o commit anterior. Eu fiz o epis√≥dio de Criptografia b√°sica
porque eu precisava ensinar um conceito l√° que vou usar agora. Uma das coisas que o Linus
queria garantir √© que os dados no reposit√≥rio
(31:09) Git sejam sempre confi√°veis, ou seja, que
eu possa confiar que o texto que eu baixo dele est√° correto. Pra garantir isso a pr√≥xima
coisa depois do tal diff que o git commit faz √© passar o patch por um algoritmo de
hashing no caso o SHA-1. Esse √© aquele numeroz√£o longo e estranho que todo commit tem. √â o
hash do patch, a assinatura daquele delta.
(31:31) Lembra do conceito de hash? Se eu modificar
um bit dentro desse patch o SHA-1 vai mudar completamente e n√£o vai mais bater com o
SHA-1 original ent√£o eu sei que o patch est√° corrompido. Aqui vale mais uma curiosidade. Eu n√£o entendo
quando as pessoas me perguntam "Akita, que tutorial de Git eu devo estudar?" Qual √©
a dificuldade de ler a documenta√ß√£o no site
(31:53) oficial das coisas como o primeiro passo?
Eu sempre achei √≥bvio ir no site oficial de tudo que eu quero aprender. Se voc√™ tivesse
ido no site do Git e aberto o link ‚ÄúBook‚Äù que √© o livro, e lido o cap√≠tulo Git Internals,
j√° saberia muito do que estou dizendo aqui. S√≥ pra n√£o perder tempo, eu vou justamente
usar um trecho desse cap√≠tulo.
(32:14) Eu disse que n√£o vou fazer um tutorial, mas
eu acho interessante demonstrar algumas coisas neste ponto. Eu fico bastante irritado de
ver programadores usando ferramentas que geram arquivos e modificam coisas no seu projeto
e ele n√£o saber o que est√° acontecendo. Deixa eu fazer outra tangente. Quando eu aprendi
CVS uma coisa que era necess√°rio pra ferramenta
(32:33) rastrear os arquivos √© que ele sujava meu
projeto inteiro criando um diret√≥rio .cvs em todos os subdiret√≥rios do projeto. Era
um saco isso. Esse subdiret√≥rio come√ßa com ponto porque todo mundo sabe que em Linux
um arquivo que come√ßa com ponto significa escondido. Se voc√™ mexesse nesses diret√≥rios
tinha muita chance de estragar tudo e ter
(32:54) que dar um checkout de novo pra reconstruir
certo. Subversion fazia a mesma coisa, s√≥ que agora
eram subdiret√≥rios .svn. At√© a√≠ tudo bem. S√≥ que em 2003 eu desenvolvia em Windows
e tinha projetos .NET que eu precisava usar Visual Studio. Se voc√™ usasse alguma coisa
como a porcaria do SourceSafe, tecnicamente
(33:15) tudo funcionava integrado. Mas obviamente
eu era rebelde e queria usar Subversion pra tudo. Pois bem, me fodi, Visual Studio crasheava
quando tentava abrir um projeto vindo do Subversion. Porque em 2003 nem Windows XP, nem Windows
Server 2003 entendiam direito arquivos que come√ßam com ponto. Era um dos motivos de
porque quase ningu√©m usava Subversion com
(33:37) projetos de Visual Studio no come√ßo dos anos
2000. O que eu fiz? A ferramenta que normalmente
se usava pra dar checkout de reposit√≥rios Subversion se chamava TortoiseSVN. Era uma
ferramentinha feita em Visual C++. Ent√£o eu fiz um patch pra esse projeto, eu fiz o
Tortoise criar esses subdiret√≥rios de rastreamento
(33:55) como underline "_svn" em vez de ponto ".svn"
e a√≠ o Visual Studio conseguia abrir o diret√≥rio agora sem crashear. Pra fazer isso primeiro
eu precisava saber que n√£o tinha import√¢ncia renomear esse diret√≥rio, porque ele s√≥ √©
importante pro cliente de subversion, n√£o pro servidor. Hoje em dia felizmente o Windows j√° entende
arquivos e diret√≥rios que come√ßa com ponto,
(34:18) porque o Git faz a mesma coisa, ele cria um
diret√≥rio chamado ponto ".git". Mas ele √© diferente do CVS e Subversion, porque na realidade
agora os arquivos e diret√≥rios do projeto que voc√™ v√™ e edita √© que n√£o tem import√¢ncia.
O conte√∫do de verdade dos arquivos fica no reposit√≥rio inteiro dentro desse ponto .git
e por isso s√≥ tem um na ra√≠z e n√£o em todos
(34:39) os subdiret√≥rios. Entenda. Se voc√™ cria um projeto qualquer,
digamos de de Node, de C#, tanto faz, e d√° git init pra iniciar, depois git add de tudo
e o primeiro git commit, agora voc√™ pode apagar os arquivos originais, menos o diret√≥rio
.git. Mesmo se voc√™ apagar qualquer arquivo, qualquer um pode ser recuperado com um simples
git checkout. Ele vai procurar o arquivo dentro
(35:04) desse .git, sem precisar perguntar nada pra
nenhum servidor. √â por isso que voc√™ consegue ficar mudando de branches no mesmo diret√≥rio,
o conte√∫do inteiro muda. Arquivos somem e reaparecem. Num Mercurial toda nova branch
gera um novo diret√≥rio ao lado do diret√≥rio original do projeto. S√≥ que se voc√™ listar o que tem dentro desse
diret√≥rio, voc√™ n√£o vai achar os arquivos
(35:27) do seu projeto. Em vez disso vai ter alguns
subdiret√≥rios meio estranhos e um maior que √© o .git / objects. E nele vai achar um monte
de arquivos com nomes que parecem hashes de SHA-1. Ficou complicado? Deixa eu ilustrar.
Nesta parte eu vou seguir igualzinho a primeira p√°gina do cap√≠tulo de Git Internals do livro
gratuito que est√° no site oficial, que √©
(35:48) uma coisa que voc√™ j√° devia ter feito tamb√©m.
Vamos l√°, primeiro criar um novo reposit√≥rio local de git com o comando git init test. Agora vamos listar o tal diret√≥rio .git / objects.
Vazio. Agora vamos usar um comando que voc√™ nunca viu o git hash-object. Vou dar echo
de uma string e passar pra esse comando. Agora
(36:07) se listar de novo o diret√≥rio voc√™ vai ver
que apareceu um arquivo l√° com o nome sendo o SHA-1 desse string. Agora, pra pegar o conte√∫do
desse arquivo podemos usar outro comando que voc√™ nunca viu e nem nunca vai usar o git
cat-file. E pronto, √© o conte√∫do que passamos antes. O reposit√≥rio git √© um banco de dados de
objetos. Vamos dar echo de um string qualquer
(36:31) pra dentro de um arquivo. Isso √© uma opera√ß√£o
do sistema operacional, nada a ver com git. Agora vamos usar o git pra gerar o hash do
conte√∫do do arquivo com o git hash-object de novo. Faltou nesse livro apagar o arquivo
original antes de dar echo de novo, sen√£o o pr√≥ximo comando vai falhar. Ent√£o vamos
apagar e agora dar echo de um novo conte√∫do
(36:52) com o mesmo nome de arquivo. Rodamos hash-object
e obviamente o SHA-1 tem que ser diferente pra um conte√∫do diferente. Listando os objetos agora temos mais arquivos.
Nesse ponto, podemos apagar de novo o arquivo e recuperar o conte√∫do que est√° no arquivo
hasheado. E assim sabemos que √© poss√≠vel recuperar conte√∫do que voc√™ apagou a partir
do versionamento do reposit√≥rio. √â assim
(37:16) que comandos como o git checkout funcionam. S√≥ que at√© aqui estamos gravando meramente
os conte√∫dos dos arquivos mas n√£o os metadados como o nome do arquivo, estrutura de diret√≥rios
ou atributos. Os objetos que criamos at√© aqui s√£o meros blobs, um punhado de bytes.
Pra organizar, precisamos criar esses metadados
(37:36) que tamb√©m s√£o objetos, mas em vez de tipo
blob eles s√£o tipo tree ou √°rvore. Pra isso precisamos usar uma √°rea intermedi√°ria do
Git onde √© poss√≠vel manipular esses metadados. Se voc√™ j√° usou o comando git add √© nessa
√°rea intermedi√°ria que o git estaciona suas modifica√ß√µes. No nosso caso queremos adicionar os metadados
na primeira vers√£o do arquivo text.txt que
(37:59) criamos no come√ßo. Ent√£o vamos usar outro
comando que voc√™ nunca viu o git update-index. E esse n√∫mero 100644 √© o mode do arquivo,
que se voc√™ j√° usou Linux antes deve saber do comando chmod que √© change mode. 644 √©
um arquivo normal, 755 √© um arquivo execut√°vel. Ou sendo mais exato, o primeiro n√∫mero √©
o modo pro usu√°rio dono do arquivo, o segundo
(38:23) n√∫mero √© o modo pro grupo e o terceiro n√∫mero
√© o modo pra qualquer outro usu√°rio. 7 √© ler, escrever e executar, 5 √© ler e executar,
4 √© s√≥ leitura e assim por diante. Estude sobre chmod depois pra entender isso melhor.
√â coisa b√°sica de Linux. De qualquer forma, nada foi gravado ainda,
pra gravar precisamos agora tirar da √°rea
(38:43) estacionada ou stage com o comando git write-tree.
E agora criamos um novo objeto de tipo tree com os metadados e podemos usar o git cat-file
pra ver. Agora vamos criar um novo objeto de tree s√≥ que apontando pra dois outros
objetos, um novo arquivo e um que j√° existe. Primeiro criamos o arquivo new.txt. Agora
damos update-index na vers√£o mais recente
(39:06) do test.txt que criamos antes e tamb√©m um
update-index no arquivo new.txt. De novo, estamos trabalhando na √°rea intermedi√°ria
de stage, ent√£o quando terminamos de adicionar os metadados, agora podemos fazer git write-tree
pra gerar o objeto de tree com esses metadados. Vamos listar com cat-file e agora ele mostra
os dois blobs que esse novo objeto de tree
(39:29) est√° apontando. Entenderam o que estamos fazendo? Estamos
manipulando o reposit√≥rio Git local que √© basicamente um banco de dados de objetos,
criando os objetos e apontando novos objetos de metadados pra eles. At√© agora nossa estrutura
est√° mais ou menos como nessa ilustra√ß√£o. Finalmente, vamos pro terceiro tipo de objeto
interessante aqui, os commits. Vamos criar
(39:52) um commit apontando pro √∫ltimo objeto de
tree que criamos. Quando tentamos criar um commit o git vai reclamar que eu ainda n√£o
configurei email nem nome pra etiquetar no commit. Pra gerar os mesmos SHA-1 do exemplo
eu vou usar o email e nome do Scott Chacon que √© o autor desse livro e um dos s√≥cios
fundadores do GitHub. Mas na sua m√°quina
(40:14) voc√™ deve usar seu pr√≥prio nome e e-mail,
claro. Pronto, agora geramos o commit de novo e novamente
ele nos devolve um hash. Veja como todo objeto, seja um blob, um tree ou um commit ou qualquer
outro tipo sempre gera um SHA-1 que ao mesmo tempo serve como ID desse objeto e tamb√©m
como validador da integridade do dado. Podemos
(40:35) usar o mesmo cat-file pra mostrar esse commit
tamb√©m usando o hash que acabamos de gerar. E se voc√™ j√° usou git antes, esse formato
deve ser familiar pra voc√™. Vamos gerar mais dois objetos de commit, cada
um referenciando o commit anterior. Ent√£o criamos o segundo commit apontando pro primeiro.
E o terceiro apontando pro segundo. E agora,
(40:56) se usarmos o comando git log, vamos ver tudo
organizado. Entenda o que aconteceu at√© aqui. Usamos
comandos de baixo n√≠vel do Git que s√£o conhecidos como plumbing, ou encanamento mesmo, como
cat-file, write-tree, update-index, read-tree, pra fazer as mesmas coisas que outros dois
comandos que voc√™ talvez j√° conhe√ßa, o
(41:19) git add e git commit. Add e Commit s√£o comandos
conhecidos como Porcelain, de alto n√≠vel. Todo tutorial e curso de Git s√≥ ensina os
comandos Porcelain, mas entenda que por baixo dos panos na realidade esses comandos fazem
uso do encanamento, dos comandos plumbing, que voc√™ raramente vai usar. O Linus desenvolveu
primeiro os comandos plumbing, foi depois
(41:41) que o Junio Hamano entrou como novo mantenedor
que ele e outros colaboradores foram melhorando a usabilidade e criando comandos mais simples
pra meros mortais. Agora vamos terminar essa parte mostrando
por outra perspectiva. Vamos abrir o console de Ruby puro. Come√ßamos criando uma vari√°vel
com um string. Agora vamos criar uma vari√°vel
(42:01) chamada header que tem como conte√∫do a palavra
blog e o tamanho da vari√°vel anterior. Finalmente vamos criar uma terceira vari√°vel chamada
store que √© o header mais o conte√∫do. Vamos importar a biblioteca de sha1 do Ruby
e gerar a vers√£o hexadecimal de 40 caracteres desse store. Agora vamos abrir um outro terminal
e usar o primeiro comando plumbing do Git
(42:26) que vimos, o hash-object. E veja que o SHA-1
√© exatamente igual. √â assim que o Git estrutura o conte√∫do e gera o hash. Se voc√™ foi atento
deve ter notado que usamos o comando git cat-file pra ver o conte√∫do do objeto. Mas porque
n√£o usamos o comando cat padr√£o do Linux? Vamos fazer isso no terminal. E veja que apareceu
s√≥ um monte de sujeira que n√£o d√° pra ler.
(42:49) √â um bin√°rio, n√£o um texto. Mas o que √©
esse bin√°rio? Voltando pro Ruby, vamos importar outra biblioteca,
a zlib pra ter acesso ao m√©todo Deflate. Lembram que eu falei de deflate antes? Que
√© a compress√£o do gzip? Ent√£o vamos aplicar deflate na vari√°vel store e esse √© o bin√°rio
comprimido da string original. Parece maior
(43:08) porque √© a representa√ß√£o do bin√°rio no
terminal, mas o conte√∫do real √© menor. E pra simular o que o git hash-object faz, vamos
gravar o arquivo. Primeiro vamos gerar o caminho completo do diret√≥rio e arquivo. De curiosidade voc√™ vai notar que quebramos
os primeiros dois caracteres desse SHA-1 pra fazer um subdiret√≥rio e colocamos o restante
como arquivo dentro dele. Se voc√™ √© um pouco
(43:32) experiente entende porque. Entenda que diret√≥rios
tem limite de arquivos. Eu n√£o lembro se eram uns 64 mil arquivos. Pra evitar ficar
tudo num diret√≥rio s√≥, criando subdiret√≥rios a partir do SHA-1 vai ajudar a balancear os
arquivos, agora voc√™ pode ter uns 64 mil subdiret√≥rios cada um com uns 64 mil arquivos
cada ou seja, aumentamos a capacidade m√°xima
(43:56) pra uns 4 bilh√µes de arquivos‚Ä¶ deve ser
suficiente. Agora vamos importar a biblioteca fileutils
pra criar os subdiret√≥rios caso n√£o existam. No Linux usamos o comando mkdir com o par√¢metro
tra√ßo -p pra isso, por isso o m√©todo no fileutils do Ruby se chama mkdir_p. E finalmente
gravamos a vers√£o comprimida do conte√∫do
(44:18) no novo arquivo. Pra ver se funcionou, podemos
sair do console do Ruby e usar o mesmo comando git cat-file pra abrir esse objeto blob que
acabamos de criar. E funciona! Repetindo, quando voc√™ clona um projeto do
GitHub pra sua m√°quina, os diret√≥rios e arquivos do projeto que voc√™ v√™ no seu editor,
s√£o s√≥ um espelho do que est√° dentro do
(44:41) diret√≥rio .git / objects. O banco de dados
de verdade s√£o esses objects. A estrutura de diret√≥rios e arquivos pode ser inteira
recriada a partir desses objetos. Mais do que isso, perceberam que quando criamos o
SHA-1 ele s√≥ considera o blob. Os metadados como nome do arquivo e diret√≥rio ficam num
objeto separado, do tipo tree.
(45:02) √â uma das raz√µes de porque o Git √© mais
eficiente pra comparar vers√µes diferentes. Lembram quando eu falei da situa√ß√£o de voc√™
renomear um arquivo num branch e apagar o arquivo num outro branch e o conflito que
isso d√° num Subversion ou CVS? No Git esse conflito n√£o existe, o Git rastreia primeiro
o conte√∫do, depois os metadados.
(45:21) Mas essa √© s√≥ a primeira vantagem. E com
esse exemplo de Ruby voc√™ sabe como as bibliotecas de Git em qualquer outra linguagem se integram
com reposit√≥rios Git. √â isso que permite um GitHub ou GitLab. A estrutura de dados
do Git √© aberta e razoavelmente simples de trabalhar. Eu recomendo que voc√™s leiam o livro no site
oficial do Git pra entender como o resto do
(45:45) Git funciona. Mas agora eu posso voltar pro
problema principal: branches e merge. Como eu disse antes, imagine que em sistemas antigos
tipo CVS um branch √© mais ou menos internamente como duplicar o diret√≥rio inteiro do projeto.
E o merge √© fazer diff no diret√≥rio duplicado, gerar os patches de cada arquivo e aplicar
de volta no diret√≥rio original. Parece simples,
(46:09) mas √© muito f√°cil de ver como isso vai fracassar
homericamente. Esse tipo de merge √© o que se chama de 2-way.
O Git prioriza n√£o a estrutura de diret√≥rios, mas um grafo, mais especificamente um DAG
ou um Direct Acyclic Graph. Ac√≠clico porque os n√≥s desse grafo n√£o apontam de volta
um pro outro causando um loop infinito. Voc√™s
(46:32) viram como manualmente criamos um commit novo
apontando pro commit anterior. √â isso que o comando git commit faz sempre: cria um commit
ligado ao anterior, criando uma cadeia. O DAG √© esse grafo de commits. Um branch √©
nada mais, nada menos que um desvio nesse grafo com uma etiqueta com o nome do branch.
(46:55) A vantagem disso √© que todo branch tem a
informa√ß√£o do ponto de Origem. A partir de qual commit come√ßa o branch. Um CVS e
o Subversion antes da vers√£o 1.5, n√£o tem essa informa√ß√£o. Depois que voc√™ faz merge
uma vez, fodeu, voc√™ n√£o pode mais continuar trabalhando no branch, porque o pr√≥ximo merge
vai ser um inferno na Terra de conflitos.
(47:15) At√© aqui deve estar meio confuso pra voc√™s
visualizarem, ent√£o vamos fazer um exemplo simples. Na verdade eu adaptei o exemplo de
um artigo da revista Dr. Dobbs que eu li em 2013 pra entender isso e ainda √© um bom exemplo,
ent√£o deixo o link nas descri√ß√µes abaixo. Pra variar vamos chamar nossos desenvolvedores
fict√≠cios de Alice e Bob. Cada um tem uma
(47:34) c√≥pia do projeto. Em um determinado momento
precisamos mergear o trabalho dos dois. Voc√™ abre o arquivo da Alice e encontra o comando
Print hello na linha 30. Da√≠ abre o mesmo arquivo do Bob e v√™ o comando um pouco diferente,
Print bye na mesma linha 30. E agora? Um CVS olha pra esses dois arquivos e tem que interromper
o processo de merge porque ele n√£o tem como
(47:59) decidir qual das duas linhas √© a v√°lida.
Agora a Alice e o Bob precisam ser chamados pra ver se eles lembram o que era pra ser
o correto. Isso √© um pequeno exemplo, agora imagina isso acontecendo em centenas de linhas
de dezenas de arquivos no mesmo projeto. Isso √© o que chamamos de um merge 2-way,
ou seja com duas vers√µes sendo comparadas.
(48:19) A diferen√ßa no Git √© que quando fazemos
um branch ele marca a commit de origem do branch. Agora Alice continua trabalhando no
branch original master e Bob come√ßa a trabalhar no novo branch, digamos hotfix, que acabamos
de criar. Mesma situa√ß√£o, no final precisamos mesclar o trabalho dele e chegamos no mesmo
problema de antes na tal linha 30 do arquivo.
(48:41) A diferen√ßa √© que o Git pode voltar no passado
at√© o ponto onde o branch foi criado e olhar como era o arquivo original. Agora temos 3
bases de compara√ß√£o, a vers√£o da Alice, a vers√£o do Bob e a vers√£o original. E se
olharmos a vers√£o original vamos descobrir que originalmente a linha 30 tinha o comando
Print bye. Ent√£o quem modificou o arquivo
(49:04) foi a Alice. E o Git pode escolher automaticamente
usar a vers√£o mais recente que √© certamente a da Alice. E o processo de merge n√£o d√°
mais esse conflito e pode seguir automaticamente. (Linus 22,000 files) Agora voc√™ come√ßa a entender porque o algoritmo
de merge 3-way √© absurdamente superior a 2-way. Por causa disso o Git consegue eliminar
praticamente todo conflito que daria num CVS.
(49:33) Esse foi o ponto que pra mim mais me deixou
impressionado em 2007. Mais do que isso, depois que o Git conclui o merge, ele cria um commit
de merge. Agora Alice e Bob podem continuar trabalhando cada um em seu respectivo branch
e quando forem fazer um novo merge, o novo ancestral de compara√ß√£o vai ser esse √∫ltimo
merge e n√£o o commit de quando o branch foi
(50:06) criado. Num CVS e no Subversion sem o merge
tracking da vers√£o 1.5 que eu falei, eles n√£o tem como saber quando aconteceu o √∫ltimo
merge e ele sempre vai comparar tudo de um branch contra tudo do outro branch, ent√£o
se da primeira vez deu um monte de conflito, vai dar tudo de novo no pr√≥ximo merge e s√≥
vai piorando.
(50:35) == cortado - come√ßo
Outra coisa que parece confundir muita gente at√© hoje √© a diferen√ßa entre rebase e merge.
A regra √© simples, voc√™ nunca faz rebase num branch que espelha um branch num reposit√≥rio
oficial, por exemplo na sua conta no GitHub. Por conven√ß√£o Isso normalmente √© o branch
chamado de master, que aponta pra remote/origin/master
(51:01) do servidor. Agora, qualquer branch de nova
funcionalidade, ou branch experimental que voc√™ cria na sua pr√≥pria m√°quina, voc√™
sempre deve fazer rebase da master nele. E quando terminar voc√™ faz merge da sua branch
pra master. Essa √© a regra: rebase a partir do master pra sua branch e merge da sua branch
pro master.
(51:19) Agora o que diabos √© um rebase na pr√°tica.
Vamos voltar pro exemplo da Alice e do Bob. Pra facilitar digamos que o Bob faz um branch
chamado hotfix a partir do commit 5 do branch master onde a Alice t√° trabalhando. Agora
a Alice continua trabalhando e faz os commits 6 e 7. E o Bob continua trabalhando no branch
dele e faz um commit 8. No hist√≥rico do Bob
(51:44) o commit 5 pula direto pro commit 8. Mas pro
Bob estar atualizado com o que a Alice anda trabalhando, de tempos em tempos ele pode
fazer rebase da master Quando ele faz rebase, o que o Git faz √©
mover os commits dele uma √°rea tempor√°ria, ent√£o √© como se ele rebobinasse o branch
do Bob at√© onde ele foi criado, que √© o
(52:13) commit 5. Da√≠ o Git pega os commits 6 e 7
da Alice e adiciona no branch do Bob. Agora ele tem a sequ√™ncia mais atualizada dos commits
5, 6 e 7. E finalmente o Git pega os commits que ele moveu pra √°rea tempor√°ria, no caso
o commit 8, e aplica a partir do 7. Agora o hist√≥rico do Bob est√° limpo e linear,
5, 6, 7 e 8. E quando ele terminar agora ele
(53:01) faz um merge, que vai gerar um commit 9 ligando
com o commit 8 do Bob com o 7 da Alice. E pronto, ele pode apagar o branch tempor√°rio
dele. Recapitulando, rebase √© rebobinar seu branch de volta pro come√ßo, aplicar os commits
mais novos do branch original, e depois aplicar seus commits de volta por cima. S√≥ isso.
== cortado - fim
(53:29) Hoje em dia, se voc√™ s√≥ usou Git e ocasionalmente
fez alguma besteira e deu alguns conflitos num merge, √© s√≥ isso, um pequeno inconveniente,
mas antes de ferramentas como Git, era o que eu falei antes, um verdadeiro inferno na Terra.
Como anedota, quando eu era consultor Java e SAP, eu estava num cliente com minha equipe.
Um dos desenvolvedores amigo meu fazia faculdade
(53:49) a noite. E ele era do tipo que se irritava
com as coisas mesmo. Ele tava atrasado e deu um tanto de conflito quando ele deu um update
ou commit. Ele tentava resolver os conflitos e n√£o ia. No fim ele saiu atrasado pra faculdade
a noite, puto da vida, e bateu o carro. Ent√£o, Subversion j√° fez algu√©m bater o carro.
N√£o t√¥ exagerando, era assim ruim.
(54:12) Ent√£o, quando eu ouvi o Torvalds xingando
o povo do Subversion, eu sabia exatamente do que ele tava falando. S√©rio, no marketing
do Subversion onde eles falavam que era CVS feito direito, tamb√©m tinha bastante propaganda
de como criar branches era uma coisa simples no Subversion. Isso era totalmente irrelevante.
De fato, criar branches num CVS era mais custoso.
(54:32) Mas o problema nunca foi criar branches, o
problema sempre foi mergear os branches. E isso o Subversion levou 8 anos pra remendar.
Depois dessa tech talk do Torvalds ainda levou mais de um ano pra adicionarem o maldito merge
tracking. Mas nesse ponto j√° era tarde demais, eu j√° tinha abandonado Subversion e comecei
a usar Git.
(54:55) Mas tinha um problema. Ao meu redor, s√≥ eu
queria usar Git, pra variar. Quando eu deixei de ser consultor SAP e virei freelancer de
Ruby on Rails, os primeiros projetos que peguei ainda eram em Subversion. Felizmente tanto
Mercurial quanto Git tinham tipo um adaptador. Era poss√≠vel fazer checkout, baixar o c√≥digo
de um reposit√≥rio Subversion, converter localmente
(55:14) em um reposit√≥rio Git e trabalhar normalmente
com Git. Depois que eu tivesse terminado de mergear meus branches e estivesse tudo pronto,
dava pra dar commit de volta pro reposit√≥rio Subversion. Ent√£o era poss√≠vel come√ßar
a migrar minha forma de trabalhar mesmo se o cliente n√£o quisesse mudar pra Git.
(55:35) Essa √© a outra vantagem de sistemas distribu√≠dos.
Num sistema centralizado, qualquer coisa que voc√™ precisa fazer, precisa pedir pro servidor.
Ent√£o se eu estivesse offline, digamos num aeroporto, e eu quisesse fazer um commit pra
n√£o perder acidentalmente o que eu tava fazendo, n√£o tinha como, porque em Subversion commit
√© o equivalente a commit e push do Git. Ele
(55:53) precisa enviar pro servidor. Mas offline,
j√° era, meu fluxo de trabalho era interrompido. Compare com hoje em dia, 2 anos atr√°s eu
realmente fui codando um projeto durante meu v√¥o pra Las Vegas, fiquei as 8 horas do v√¥o
codando, comitando e fazendo tudo que eu precisava. Quando cheguei no aeroporto em Las Vegas eu
conectei meu notebook no 4G e fiz um push
(56:16) pro reposit√≥rio no meu GitLab. Ali√°s, vale explicar outra coisa. Eu j√°
disse antes que GitHub ou GitLab s√£o opcionais pra usar Git. Quando voc√™ faz um git init
como eu j√° mostrei, o diret√≥rio .git tem tudo que voc√™ precisa. Digamos que estamos
na situa√ß√£o do aeroporto ou na situa√ß√£o de eu estar em alguma confer√™ncia sem internet.
Da√≠ um amigo meu se oferece pra me ajudar.
(56:39) Como ele clona o projeto de mim? De v√°rias
maneiras. Ele pode se conectar via SSH no meu notebook. Ele pode simplesmente pegar
uma c√≥pia do diret√≥rio pela rede local. Ou eu posso copiar o reposit√≥rio num pendrive
e dar pra ele clonar. Muita gente n√£o sabe disso mas quando voc√™
faz um git clone de um GitHub, a diferen√ßa
(56:57) pra um reposit√≥rio criado localmente √© s√≥
algumas linhas no arquivo de config no diret√≥rio .git apontando um remote chamado origin pra
um endere√ßo na internet, que pode ser um servidor https ou at√© mesmo um servidor SSH,
ou nem precisa ser um servidor, pode ser um outro diret√≥rio local na mesma m√°quina.
Isso mesmo, voc√™ pode fazer git clone de
(57:19) um diret√≥rio. Deixa eu mostrar isso, vamos
pegar o reposit√≥rio que criamos antes chamado test. Agora vamos sair do diret√≥rio. Agora
podemos fazer git clone desse reposit√≥rio e chamar o clone de test2. Pronto, clonado.
Se olharmos o arquivo de config do test2 vemos uma configura√ß√£o de remote origin apontando
pro diret√≥rio em vez do GitHub por exemplo.
(57:41) E como remote √© s√≥ um texto de configura√ß√£o,
podemos apontar pra onde a gente quiser depois. Git e outros sistemas distribu√≠dos tem como
caracter√≠stica n√£o precisar de um servidor central que controla tudo. Como hoje j√° t√°
comprido demais este epis√≥dio um dia eu retomo o assunto, mas basta dizer que a forma como
todo mundo usa Git via GitHub hoje √© s√≥
(58:02) uma das formas de se trabalhar, que provavelmente
funciona melhor pra maioria das pessoas, mas n√£o √© adequada pro fluxo de trabalho dos
desenvolvedores do projeto da kernel do Linux, por exemplo, por isso eles n√£o est√£o no
GitHub apesar de usarem Git. Eu mesmo prefiro que terceiros n√£o tenham acesso ao meu c√≥digo
fonte e nem dos meus clientes, por isso eu
(58:23) mantenho uma instala√ß√£o privada de GitLab.
Tudo funciona igualzinho ao GitHub se n√£o melhor em muitos casos. E mesmo sem GitLab,
pra casos menores, bastaria fazer o que eu j√° fazia dez anos atr√°s: dar git init num
servidor de SSH e todos os meus amigos podem clonar de l√° e a gente j√° pode trabalhar.
(58:44) Uma das grandes barreiras que o Git enfrentou
desde o come√ßo, principalmente comparado com a concorr√™ncia, √© que ele foi feito
pra ser usado num terminal Linux. O Git √© um conjunto de programas de linha de comando,
que assume que est√° num ambiente POSIX. Portanto em Windows sempre foi bem chatinho de usar
porque o command prompt sempre foi uma grande
(59:03) porcaria e o suporte POSIX sempre foi meia
boca. O que uma d√©cada n√£o faz? Se voc√™ assistiu meu v√≠deo sobre o Windows Subsystem
for Linux, ou WSL, agora o Windows oferece um terminal decente e agora t√° super f√°cil
usar programas de linha de comando de Linux nativamente no Windows. Fora isso diversas
IDEs e editores de texto incluindo o Visual
(59:24) Studio Code tem suporte decente de Git tamb√©m.
Ent√£o mesmo no Windows voc√™ consegue usar Git sem grandes problemas hoje. Em 2008 quando eu fui trabalhar na Locaweb,
assim como muitas outras empresas, eles usavam o que? O famigerado e odiado Microsoft SourceSafe.
Eu, do meu jeito delicado de chegar chutando
(59:43) a porta, forcei a migra√ß√£o de todos os projetos
e c√≥digos fonte da empresa pra ficar num servidor Git. Na √©poca GitHub ainda tava
s√≥ come√ßando, GitLab n√£o existia, mas havia um projeto open source chamado Gitorious que
dava suporte somente a hospedar projetos open source. Como o c√≥digo era aberto, eu adicionei
a funcionalidade de administra√ß√£o e gerenciamento
(1:00:06) de usu√°rios e permiss√µes. E foi isso que
usamos por muito tempo. Depois que eu sa√≠ eles migraram pro GitLab que tinha acabado
de lan√ßar e √© bem melhor. Eu lembro que a rejei√ß√£o ao Git era muito
grande, especialmente por conta de suporte ruim a usar em Windows pelo command prompt.
Eu literalmente fui sentando na mesa de cada
(1:00:26) desenvolvedor pra ensinar a usar os comandos
e fluxos b√°sicos. Foi uma puta dor de cabe√ßa na √©poca, s√≥ um louco pra me deixar fazer
isso em 2008. Levou meses at√© todo mundo se acostumar, mas eu acho que valeu a pena. Por causa de todas as limita√ß√µes e a filosofia
de servidor centralizado, em corpora√ß√µes
(1:00:44) antiquadas o mais comum ainda √© esconder
o m√°ximo do c√≥digo fonte quanto poss√≠vel. Normalmente desenvolvedores de departamentos
diferentes n√£o tem acesso ao c√≥digo de outros departamentos. Hoje em dia em ambientes modernos
isso pode parecer um absurdo, mas esse era o normal. Como era f√°cil fazer merda, era
melhor limitar o acesso o m√°ximo poss√≠vel.
(1:01:07) Al√©m de for√ßar a migra√ß√£o do SourceSafe
pra Gitorious em 2008 eu tamb√©m injetei o conceito de todo mundo ver tudo, todo c√≥digo
fonte fica aberto a todo funcion√°rio e qualquer um pode criar branches e forks e colaborar
via o equivalente a Pull Requests da √©poca. √â o modelo que eu acho que √© o mais correto
at√© hoje. Esconder c√≥digo garante que c√≥digo
(1:01:30) ruim sobreviva mais do que deveria. Al√©m
de criar politicagem desnecess√°ria. E estamos chegando ao fim deste epis√≥dio!
Como eu falei no come√ßo do v√≠deo, o objetivo de hoje n√£o era fazer tutorial. O pr√≥prio
Linus tem a mesma resposta que eu usaria: (Linus feeling lucky) O objetivo hoje era tentar dar um panorama
de porque o Git existe, quais eram as alternativas,
(1:02:13) porque nenhuma outra foi bem sucedida e o
que torna o Git t√£o diferente do resto. O pr√≥prio BitKeeper ainda existe e hoje em
dia e integra com Git. A Microsoft ainda tem o Team Foundation Server ou TFS que pra todos
os efeitos e prop√≥sitos √© o sucessor espiritual do SourceSafe e eu espero nunca esbarrar em
um. E o TFS tamb√©m se n√£o me engano tem
(1:02:42) alguma forma de interfacear com reposit√≥rios
Git. Gra√ßas ao GitHub, rapidamente todo mundo migrou pra Git. Hoje em dia ningu√©m mais
questiona. Se voc√™ √© da comunidade Ruby on Rails daquela
√©poca e se lembrar da primeira grande confer√™ncia no Brasil, a Rails Summit Latin America, vai
lembrar que um dos palestrantes que eu trouxe
(1:02:57) foi o Chris Wanstrath, um dos fundadores do
GitHub. Eu tinha entrevistado ele pro meu blog no ano anterior e conheci ele, o Tom
e o Scott Chacon na Railsconf um ano antes. O Scott que eu tamb√©m trouxe se n√£o me engano
na Rubyconf Brasil de 2010. Hoje todo mundo conhece o GitHub como a compra de mais de
7 bilh√µes de d√≥lares pela Microsoft. Eu
(1:03:01) lembro do GitHub na √©poca em que eles estavam
codando o GitHub de algum Starbucks. Bons tempos. Espero que voc√™s tenham aprendido um pouco
mais sobre essa que √© provavelmente a ferramenta mais b√°sica pra qualquer desenvolvedor hoje
em dia. Minha expectativa de vida como desenvolvedor melhorou substancialmente depois que eu migrei
pra Git em 2007. Se tiverem interesse de ver
(1:03:07) o que eu falava sobre o assunto vou deixar
linkado os posts do meu blog que postei naquela √©poca tamb√©m. Se curtiram o video deixem
um joinha, assinem o canal e n√£o deixem de clicar no sininho pra n√£o perder os pr√≥ximos
epis√≥dios. Agora eu acho que devo voltar a publicar toda semana se nada der errado,
ent√£o a gente se v√™, at√© mais!

--><hr class="footnotes-sep"><section class="footnotes"><ol class="footnotes-list"><li id="footnote1" class="footnote-item"><p>O que √© e porque usar um sistema de controle de vers√£o? <a href="https://blog.wkm.com.br/o-que-%C3%A9-e-porque-usar-um-sistema-de-controle-de-vers%C3%A3o-23f00b08e12d" target="_blank" rel="noopener noreferrer">https://blog.wkm.com.br/o-que-%C3%A9-e-porque-usar-um-sistema-de-controle-de-vers%C3%A3o-23f00b08e12d<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> <a href="#footnote-ref1" class="footnote-backref">‚Ü©Ô∏é</a></p></li></ol></section></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/20231-ifba-saj-ads-tawii/blog-material-aula/edit/master/posts/05_controle_versao.md" rel="noopener noreferrer" target="_blank" aria-label="Editar esta p√°gina" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->Editar esta p√°gina<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item git-info"><!----><!----></div></footer><nav class="page-nav"><a href="/blog-material-aula/posts/04_docker.html" class="nav-link prev" aria-label="Docker"><div class="hint"><span class="arrow start"></span>Prev</div><div class="link"><span class="font-icon icon iconfont icon-edit" style=""></span>Docker</div></a><a href="/blog-material-aula/posts/03_container.html" class="nav-link next" aria-label="Container"><div class="hint">Next<span class="arrow end"></span></div><div class="link">Container<!----></div></a></nav><!----><!----><!--]--></main><!--]--><footer class="footer-wrapper"><div class="footer">Material de aula IFBA SAJ</div><div class="copyright">Copyright ¬© 2023 Leandro Souza</div></footer></div><!--]--><!--]--><!----><!----><!--]--></div>
    <script type="module" src="/blog-material-aula/assets/app-738b63e8.js" defer></script>
  </body>
</html>
